<!DOCTYPE html>
<html>
<head>
    <title></title>

    <link rel="stylesheet" href="stylesheets/style.css">

    <script src="javascripts/angular.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular-resource.min.js"></script>
    <script src="javascripts/powertools.js" type="text/javascript"></script>

</head>
<body ng-app="powertools" ng-controller="ItemsCtrl">

    <p ng-show="total() > 0"><strong>{{total() | currency:"Kr. "}} 4 U!</strong></p>

    <section>
        <ul class="items">
            <li ng-show="list.length > 0" class="column-names">
                <div class="item-name">Item name</div>
                <div class="item-median-price">Median price</div>
            </li>

            <li ng-show="item.name" class="item ng-class: {'green': item.prices.length >= 20, 'yellow': item.prices.length < 20, 'red': item.prices.length < 10}" ng-repeat="item in list">
                <a class="remove" ng-click="removeItem()">x</a>
                <div class="item-name">
                    <a target="_blank" href="http://www.dba.dk/soeg/?soeg={{item.name}}">
                        {{item.name}}
                    </a>
                </div>
                <div class="item-median-price">{{item.median_price | currency:"kr. "}}</div>
            </li>

            <li class="loader" ng-show="loading()" >
                Loading ...
            </li>
            <li class="loader">
                Loading ...
            </li>

            <li>
                <form ng-submit="addItem()">
                    <input type="text" ng-model="itemName" size="30" placeholder="Type item name (eg. 'ipad')">
                    <button ng-disabled="!itemName" type="submit">Add</button>
                </form>
            </li>
        </ul>
    </section>

    <section ng-show="list.length > 0" class="legend">
        <p><span class="green">Green</span> = 20+ items.</p>
        <p><span class="yellow">Yellow</span> = 10 - 20 items.</p>
        <p><span class="red">Red</span> = less than 10 items.</p>
    </section>

</body>
</html>